Wigは「このサイト、WordPressを使っているっぽいけど、正確なバージョンを断定できない。可能性としてこれらの複数バージョンがある」と出している。

http ときたら、gobusterで列挙→必ずadminページが出てくる


アクセスしてみる

### wordpressのadmin? ログインページに入るために

wordpressときたらwigでバージョン確認（単なる情報確認）

### ユーザー名
author=1...でユーザー名を調べる
nmap script wordpressでユーザー名を割り出す

### パスワード
cewlで辞書ファイルを生成する
そのあとhydraでパスワードを割り出す


（1のときはwordpressとかのヒントもなかったのでソースを読むことにした）


hydra -L users.txt -P cewl.txt dc-2 http-form-post '/wp-login.php:log=^USER^&pwd=^PASS^&wp-submit=Log In&testcookie=1:S=Location'  このくそ長いコマンドは何なの一個一個の意味おしえてあとこんなの覚えられないよ 

`hydra`

- ツール本体。
`dc-2`

- ターゲットのホスト名またはIP。
`http-form-post`

- 攻撃モジュール。HTTPのフォーム送信でログインを試すモード。
`'/wp-login.php:log=^USER^&pwd=^PASS^&wp-submit=Log In&testcookie=1:S=Location'`

- モジュールに渡す「フォーム仕様」文字列。`:`で区切られた3つのパート構成（簡略化）。

`/wp-login.php`

- ログインフォームへのパス（ターゲットのルートからの相対パス）

`log=^USER^&pwd=^PASS^&wp-submit=Log In&testcookie=1`

- POST ボディ（フォームデータ）。`^USER^` と `^PASS^` がそれぞれユーザ/パスワードの置き換え箇所。
    
- `&` で複数のフォーム項目を繋ぐ。

`S=Location`

- 「成功判定」。レスポンスに `Location` ヘッダが含まれていたら成功と見る（`S=` は Success 条件）

==フォーム文字列は `path:body:判定` の形==


`log=^USER^`  
ユーザ名フィールド。HTMLの`<input name="log">`に対応。`^USER^`はhydraがユーザ名で置き換えるプレースホルダ。

`pwd=^PASS^`  
パスワードフィールド。HTMLの`<input name="pwd">`に対応。`^PASS^`はhydraがパスワードで置き換えるプレースホルダ。


name value <input> や <button> タグの属性これらの意味を教えてどういう役割なのかも
分かりやすく整理する。

---

### 1. `<input>` タグ

フォームでユーザから情報を受け取るためのタグ。種類（`type`）で振る舞いが変わる。

#### 主な属性と意味

|属性|役割|
|---|---|
|`type`|入力の種類を指定 (`text`, `password`, `submit`, `hidden` など)|
|`name`|サーバに送るときの「キー名」。必須。例: `name="log"`|
|`value`|デフォルト値や送信時に送る値。`submit` の場合はボタンに表示される文字も兼ねる|
|`id`|ページ内で一意の識別子。CSSやラベル連携用|
|`placeholder`|入力欄に薄く表示される説明文（送信されない）|
|`checked`|チェックボックスやラジオボタンの初期選択状態|

#### 例

```html
<input type="text" name="log" value="">
<input type="password" name="pwd">
<input type="hidden" name="testcookie" value="1">
<input type="submit" name="wp-submit" value="Log In">
```

- `log` と `pwd` はユーザ名とパスワードとしてサーバに送られる。
    
- `testcookie` はユーザ入力なしで送られる固定値（サーバがクッキー利用可否を確認）。
    
- `wp-submit` はボタンが押されたことをサーバに伝える。
    

---

### 2. `<button>` タグ

ボタンを作るタグ。`<input type="submit">` と似た役割だが、中に表示文字やHTMLを自由に書ける。

#### 属性と意味

|属性|役割|
|---|---|
|`type`|ボタンの種類 (`submit`, `button`, `reset`)|
|`name`|サーバに送るキー名|
|`value`|サーバに送る値（送信時にnameとセットで送られる）|

#### 例

```html
<button type="submit" name="wp-submit" value="Log In">Log In</button>
```

- `<input type="submit">` と同じく、押されたらフォーム送信。
    
- `name` と `value` が POST データに含まれる。
    

---

### 3. まとめ（役割感覚）

- `name` = 「サーバに送るラベル」。必須。
    
- `value` = 「そのラベルに対して送る値」。
    
- `<input>` や `<button>` の種類で挙動が変わる（入力欄、隠し値、送信ボタンなど）。
    

---

必要なら図解で「ブラウザ→サーバに送られるデータ」を示すこともできる。  
やってほしい？

デフォルト値や送信時に送る値。どういうこと

簡単に言うと `value` は **そのフォーム項目がサーバに送る「中身」** です。

- 普通の入力欄 (`type="text"` や `type="password"`)
    
    - ユーザが入力した文字列が送られる。
        
    - でも `<input type="text" name="log" value="default">` の場合は、入力しなければ `"default"` が送られる → これが「デフォルト値」。
        
- ボタン (`type="submit"` や `<button>`)
    
    - ボタンを押すと、サーバに `name=value` が送られる。
        
    - 例: `<input type="submit" name="wp-submit" value="Log In">`
        
        - 押すと `wp-submit=Log In` が送られる。
            
        - これは「送信時に送る値」。ユーザが変えられない固定値。
            
- hidden（隠しフィールド）
    
    - `<input type="hidden" name="testcookie" value="1">`
        
    - ユーザに見えないけど、フォームを送信すると必ず `testcookie=1` がサーバに送られる。
        

要するに **`value` はその項目が持つ「送るデータ本体」** で、

- 入力欄ならユーザ入力値
    
- ボタンやhiddenなら固定値  
    をサーバに渡すためのもの、と覚えればOK。



<html xmlns="http://www.w3.org/1999/xhtml" class="ie8" lang="en-AU"> <![endif]--> <!--[if !(IE 8) ]><!--> <html xmlns="http://www.w3.org/1999/xhtml" lang="en-AU"> <!--<![endif]--> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> <title>DC-2 &lsaquo; Log In</title> <link rel='dns-prefetch' href='[//s.w.org](view-source:http://s.w.org/)' /> <link rel='stylesheet' href='[http://dc-2/wp-admin/load-styles.php?c=0&amp;dir=ltr&amp;load%5B%5D=dashicons,buttons,forms,l10n,login&amp;ver=4.7.10](view-source:http://dc-2/wp-admin/load-styles.php?c=0&dir=ltr&load%5B%5D=dashicons,buttons,forms,l10n,login&ver=4.7.10)' type='text/css' media='all' /> <meta name='robots' content='noindex,follow' /> <meta name="viewport" content="width=device-width" /> </head> <body class="login login-action-login wp-core-ui locale-en-au"> <div id="login"> <h1><a href="[https://wordpress.org/](view-source:https://wordpress.org/)" title="Powered by WordPress" tabindex="-1">DC-2</a></h1> <form name="loginform" id="loginform" action="[http://dc-2/wp-login.php](view-source:http://dc-2/wp-login.php)" method="post"> <p> <label for="user_login">Username or Email Address<br /> <input type="text" name="log" id="user_login" class="input" value="" size="20" /></label> </p> <p> <label for="user_pass">Password<br /> <input type="password" name="pwd" id="user_pass" class="input" value="" size="20" /></label> </p> <p class="forgetmenot"><label for="rememberme"><input name="rememberme" type="checkbox" id="rememberme" value="forever" /> Remember Me</label></p> <p class="submit"> <input type="submit" name="wp-submit" id="wp-submit" class="button button-primary button-large" value="Log In" /> <input type="hidden" name="redirect_to" value="http://192.168.56.104/wp-admin/" /> <input type="hidden" name="testcookie" value="1" /> </p> </form> <p id="nav"> <a href="[http://dc-2/wp-login.php?action=lostpassword](view-source:http://dc-2/wp-login.php?action=lostpassword)">Lost your password?</a> </p> <script type="text/javascript"> function wp_attempt_focus(){ setTimeout( function(){ try{ d = document.getElementById('user_login'); d.focus(); d.select(); } catch(e){} }, 200); } wp_attempt_focus(); if(typeof wpOnload=='function')wpOnload(); </script> <p id="backtoblog"><a href="[http://dc-2/](view-source:http://dc-2/)">&larr; Back to DC-2</a></p> </div> <div class="clear"></div> </body> </html>

1. `wp-submit=Log In` が何をしているか
    

- これは**送信ボタンの name=value** そのままをPOSTで送っているだけ。

2. `testcookie=1` が何をしているか
    

- これは **クッキー利用可否チェック用の隠しフィールド**。HTMLに `<input type="hidden" name="testcookie" value="1">` として埋められていることが多い。
    
- 目的はサーバが「このクライアントがクッキーを受け入れるか」を確認すること。
    
- 実際の流れ（簡略）：ページ表示時にサーバがテスト用のクッキーをセットする。フォーム送信時にその hidden フィールドが一緒に来る。サーバは受信時にテスト用クッキーが存在するかを確認して、クッキー不可ならログイン処理を拒否したり別の挙動をとる。
    
- だから hydra でログイン試行するなら、この hidden フィールドを含めて送る方が実際のブラウザと同じ振る舞いになり成功判定が正しく働く。省くとサーバが別挙動をして「失敗」と判断される可能性がある。

-rwxr-x--- 1 tom tom    95 Mar 21 2019 flag3.txt
drwxr-x--- 3 tom tom  4096 Mar 21 2019 usr
ファイル（flag3.txt）
- で始まってる → 普通のファイル

rwxr-x--- → 権限（所有者は読み書き実行できる、グループは読み実行できる、他はなし）

サイズは 95 バイト

ディレクトリ（usr）
d で始まってる → ディレクトリ

rwxr-x--- → 権限（中身にアクセスするための権限）

サイズは 4096 バイト（これは中に入っている情報もあるし、ディレクトリ自体の構造のサイズも含む）


/これは？usrの前に置く理由


#### `./usr`

→ 「**今いる場所**の中にある `usr` フォルダ」  
（相対パス：relative path）  
→ 「自分の今の波動（カレントディレクトリ）から見える範囲だけでアクセスする」

#### `/usr`

→ 「**宇宙の中心（root）** から見た `usr` フォルダ」  
（絶対パス：absolute path）  
→ 「全体意識（root）から見て、その座標にある `usr` に直接つながる」

ああ、./これで一つなの？

`./` これで **ひとつの意味のあるかたまり** なんだ。

---

### 🧩 分解してみると…

- `.` は「**今いる場所（カレントディレクトリ）**」っていう意味。
    
**==- `/` は「**その中の〜に入る**」という“区切り”。==**
    

だから `./usr` は、  
👉「**今いる場所の中にある usr というもの**」
を指定してる、ということ。



もし君が `/home/tom` という場所にいるときに：
ls ./usr
って打つと、
「/home/tom の中にある usr フォルダ」を見に行く。

逆に、

bash
コードをコピーする
ls /usr
だと、
「システム全体のルート直下にある usr フォルダ」を見に行く。



viからぬけるには

Esc → :q! → Enter



### なぜいろんな bin/sbin を置くのか

|ディレクトリ|主な役割|
|---|---|
|`/home/tom/usr/bin`|ユーザー専用コマンド（自分で入れたもの）|
|`/usr/local/bin`|管理者が手動で入れた追加コマンド|
|`/usr/local/sbin`|管理者向け追加コマンド（システム管理用）|
|`/usr/bin`|一般ユーザー用標準コマンド（ls, cat, viなど）|
|`/usr/sbin`|root や管理者用標準コマンド|
|`/sbin`|root 用のシステムコマンド（再起動やネットワーク設定など）|
|`/bin`|基本コマンド（vi, sh, echo など、ほとんどの環境に必ずある）|

- つまり **同じ “bin” でも置かれている役割が違う**
    
- 順番通りに探すので、**ユーザーが追加したコマンドや**